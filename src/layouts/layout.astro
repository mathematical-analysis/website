---
import "@/styles/globals.css";

import { getCollection } from "astro:content";

const posts = (await getCollection("lectures")).sort(
  (a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body class="bg-neutral-900">
    <div class="flex h-full min-h-screen">
      <aside
        class="w-80 bg-neutral-950 text-neutral-50 pl-6 pt-12 hidden md:flex md:flex-col !basis-80 md:space-y-8 overflow-y-auto h-screen sticky top-0 left-0"
      >
        <h1 class="text-3xl font-bold">
          <a href="/" class="opacity-100"> Mathematical Analysis </a>
        </h1>
        <div class="w-full h-0.5 bg-white/5 my-5"></div>
        <div>
          <p class="opacity-50 font-mono">CS 2024 - 25</p>
          <p class="opacity-50">Babeș-Bolyai University</p>
        </div>

        <div class="w-full h-0.5 bg-white/5 my-5"></div>

        <div class="flex flex-col">
          <h2 class="text-xl font-bold">
            <span class="opacity-50">Lect. </span>Mihai Nechita
          </h2>
          <p class="opacity-50">mihai.nechita(at)ubbcluj.ro</p>
        </div>

        <div class="w-full h-0.5 bg-white/10 my-5"></div>

        <ul class="space-y-1 text-lg">
          {
            posts.map((post, idx) => (
              <li class="hover:opacity-50 transition-opacity">
                <a
                  href={`/lectures/${post.slug}/`}
                  class="flex items-center space-x-2"
                >
                  <span class="opacity-100 truncate">Week {idx + 1}</span>
                  <h4 class="opacity-50 truncate">{post.data.title}</h4>
                </a>
              </li>
            ))
          }
        </ul>

        <div class="w-full h-0.5 bg-white/10 my-5"></div>

        <ul class="space-y-1">
          <li>
            <a href="#" class="flex items-center space-x-2">
              <span class="opacity-100">LaTeX / Homework Guide</span>
            </a>
          </li>
          <li>
            <a href="#" class="flex items
            -center space-x-2">
              <span class="opacity-100">Python / Numpy Reference</span>
            </a>
          </li>
        </ul>

        <div class="w-full h-0.5 bg-white/10 my-5"></div>

        <ul class="space-y-1">
          <li>
            <a href="#" class="flex items-center space-x-2">
              <span class="opacity-100">Points</span>
            </a>
          </li>
          <li>
            <a href="#" class="flex items
            -center space-x-2">
              <span class="opacity-100">Results</span>
            </a>
          </li>
        </ul>

        <div class="w-full h-0.5 bg-white/10 my-5"></div>

        <ul class="space-y-1">
          <li>
            <a href="#" class="flex items-center space-x-2">
              <span class="opacity-100">FAQ</span>
            </a>
          </li>
          <li>
            <a href="#" class="flex items
            -center space-x-2">
              <span class="opacity-100">Syllabus</span>
            </a>
          </li>
          <li>
            <a href="#" class="flex items
            -center space-x-2">
              <span class="opacity-100">Schedule</span>
            </a>
          </li>
          <li>
            <a href="#" class="flex items
            -center space-x-2">
              <span class="opacity-100">Exams</span>
            </a>
          </li>
        </ul>

        <div class="w-full h-0.5 bg-white/10 my-5"></div>

        <div class="flex flex-col space-y-2">
          <p class="opacity-50">
            © {new Date().getFullYear()} Mathematical Analysis
          </p>
          <p class="opacity-50">
            Last updated: {new Date().toLocaleDateString()}
          </p>
        </div>
      </aside>

      <main class="p-12 max-w-4xl flex-grow-0 w-full text-neutral-200">
        <slot />
      </main>
    </div>
  </body>
</html>
